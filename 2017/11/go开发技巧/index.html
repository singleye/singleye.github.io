<!DOCTYPE html>


<html lang="zh-cn" data-theme="">
<head>
    
        
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer-when-downgrade">

<title>GO开发技巧 - singleye</title>

<meta name="description" content="# 1. 设置GO语言vim开发环境 在vim中开发GO最好安装相关的插件，比如vim-go这个插件。这个插件除了提供格式化、语法高亮、语法检测等功能以外还有很多方便的功能。
编译命令，对应go build：
:GoBuild 安装，对应go install：
:GoInstall 测试，对应go test：
:GoTest 运行一个单独测试：
:GoTestFunc 覆盖率：
:GoCoverage 运行当前程序，对应go run:">


    <meta name="keywords" content="Go,vim,delve">




<link rel="icon" type="image/x-icon" href="https://www.singleye.net/favicon.ico">
<link rel="apple-touch-icon-precomposed" href="https://www.singleye.net/favicon.png">








    



<style>
  body {
    visibility: hidden;
    opacity: 0;
  }
</style>

<noscript>
  <style>
    body {
      visibility: visible;
      opacity: 1;
    }
  </style>
</noscript>




    





    
    
        
    
    

    
        <link rel="stylesheet" href="/css/style.min.184a655c5ad8596648622468e6696abf0cf0a2cf8266df17b4f7a36fe9c97551.css" integrity="sha256-GEplXFrYWWZIYiRo5mlqvwzwos&#43;CZt8XtPejb&#43;nJdVE=">
    





    





    
    
        
    
    

    
        <link rel="stylesheet" href="/css/style.min.c4c04b3ef88e3d619ad4c7ee5e03048422bc55c4fefdc1f07657c1133670aa22.css" integrity="sha256-xMBLPviOPWGa1MfuXgMEhCK8VcT&#43;/cHwdlfBEzZwqiI=">
    





    





    
    
        
    
    

    
        <link rel="stylesheet" href="/css/style.min.21c5d8fe0a79d623b0adc1ce4bd4f6dd2c05cd939c9aaaa966ba7186b1464f4d.css" integrity="sha256-IcXY/gp51iOwrcHOS9T23SwFzZOcmqqpZrpxhrFGT00=">
    












    

    





    
    
        
    
    

    
        <script src="/js/script.min.08f04d96386c73c9bf4d160333f8f448c05a6e01c06770542ee0e013954ce930.js" type="text/javascript" charset="utf-8" integrity="sha256-CPBNljhsc8m/TRYDM/j0SMBabgHAZ3BULuDgE5VM6TA="></script>
    



















    
</head>
<body>
    <a class="skip-main" href="#main">Skip to main content</a>
    <div class="container">
        <header class="common-header">
            
                <div class="header-top">
    <div class="header-top-left">
        <h1 class="site-title noselect">
    <a href="/">singleye</a>
</h1>

        







    
        <div class="theme-switcher">
            <span class="inline-svg">

    


    
    
    
    
    

    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-sun-high"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14.828 14.828a4 4 0 1 0 -5.656 -5.656a4 4 0 0 0 5.656 5.656z" /><path d="M6.343 17.657l-1.414 1.414" /><path d="M6.343 6.343l-1.414 -1.414" /><path d="M17.657 6.343l1.414 -1.414" /><path d="M17.657 17.657l1.414 1.414" /><path d="M4 12h-2" /><path d="M12 4v-2" /><path d="M20 12h2" /><path d="M12 20v2" /></svg>


</span>

        </div>
    

    <script>
        const STORAGE_KEY = 'user-color-scheme'
        const defaultTheme = "light"

        let currentTheme
        let switchButton
        let autoDefinedScheme = window.matchMedia('(prefers-color-scheme: dark)')

        function switchTheme(e) {
            currentTheme = (currentTheme === 'dark') ? 'light' : 'dark';
            if (localStorage) localStorage.setItem(STORAGE_KEY, currentTheme);
            document.documentElement.setAttribute('data-theme', currentTheme);
            changeGiscusTheme(currentTheme);
            document.body.dispatchEvent(new CustomEvent(currentTheme + "-theme-set"));
        }

        const autoChangeScheme = e => {
            currentTheme = e.matches ? 'dark' : 'light'
            document.documentElement.setAttribute('data-theme', currentTheme);
            changeGiscusTheme(currentTheme);
            document.body.dispatchEvent(new CustomEvent(currentTheme + "-theme-set"));
        }

        document.addEventListener('DOMContentLoaded', function () {
            switchButton = document.querySelector('.theme-switcher')
            currentTheme = detectCurrentScheme()

            if (currentTheme === 'auto') {
                autoChangeScheme(autoDefinedScheme);
                autoDefinedScheme.addListener(autoChangeScheme);
            } else {
                document.documentElement.setAttribute('data-theme', currentTheme)
            }

            if (switchButton) {
                switchButton.addEventListener('click', switchTheme, false)
            }

            showContent();
        })

        function detectCurrentScheme() {
            if (localStorage !== null && localStorage.getItem(STORAGE_KEY)) {
                return localStorage.getItem(STORAGE_KEY)
            }
            if (defaultTheme) {
                return defaultTheme
            }
            return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }

        function showContent() {
            document.body.style.visibility = 'visible';
            document.body.style.opacity = 1;
        }

        function changeGiscusTheme (theme) {
            function sendMessage(message) {
              const iframe = document.querySelector('iframe.giscus-frame');
              if (!iframe) return;
              iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
            }

            sendMessage({
              setConfig: {
                theme: theme
              }
            });
        }
    </script>


        <ul class="social-icons noselect">







    <li>
            <a href="/index.xml" title="RSS" rel="me">
            <span class="inline-svg">

    


    
    
    
    
    

    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-rss"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M4 4a16 16 0 0 1 16 16" /><path d="M4 11a9 9 0 0 1 9 9" /></svg>


</span>

            </a>
        </li>
    

</ul>

    </div>
    <div class="header-top-right">

    </div>
</div>


    <nav class="noselect">
        
        
        <a class="" href="https://www.singleye.net/" title="">Home</a>
        
        <a class="" href="https://www.singleye.net/categories" title="">Categories</a>
        
        <a class="" href="https://www.singleye.net/tags" title="">Tags</a>
        
        <a class="" href="https://github.com/singleye" title="">GitHub</a>
        
    </nav>



<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$','$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    }
  };

  window.addEventListener('load', (event) => {
      document.querySelectorAll("mjx-container").forEach(function(x){
        x.parentElement.classList += 'has-jax'})
    });

</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>





            
        </header>
        <main id="main" tabindex="-1">
            
    

    <article class="post h-entry">
        <div class="post-header">
            <header>
                <h1 class="p-name post-title">GO开发技巧</h1>
                

            </header>
            



<div class="post-info noselect">
    
        <div class="post-date dt-published">
            <time datetime="2017-11-10">2017-11-10</time>
            
        </div>
    

    <a class="post-hidden-url u-url" href="/2017/11/go%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7/">/2017/11/go%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7/</a>
    <a href="https://www.singleye.net/" class="p-name p-author post-hidden-author h-card" rel="me"></a>


    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    
                    <li><a href="/categories/programming/">Programming</a></li>
                
                    
                    <li><a href="/categories/go/">Go</a></li>
                
            </ul>
        
        
            <ul class="post-tags">
                
                    
                    <li><a href="/tags/go/">#Go</a></li>
                
                    
                    <li><a href="/tags/vim/">#Vim</a></li>
                
                    
                    <li><a href="/tags/delve/">#Delve</a></li>
                
            </ul>
        
        
    </div>
</div>

        </div>
        

  
  




  
  
  
  <details class="toc noselect">
    <summary>Table of Contents</summary>
    <div class="inner"><nav id="TableOfContents">
  <ul>
    <li><a href="#1-设置go语言vim开发环境">1. 设置GO语言vim开发环境</a>
      <ul>
        <li><a href="#在vim中查询vim-go的帮助文档">在vim中查询vim-go的帮助文档：</a></li>
      </ul>
    </li>
    <li><a href="#2-其它常用工具">2. 其它常用工具</a>
      <ul>
        <li><a href="#文件格式化">文件格式化</a></li>
        <li><a href="#打印package信息">打印package信息</a></li>
        <li><a href="#跨平台编译">跨平台编译：</a></li>
        <li><a href="#查询文档">查询文档</a></li>
        <li><a href="#程序错误查询">程序错误查询</a></li>
        <li><a href="#go-vet工具">go vet工具</a></li>
      </ul>
    </li>
    <li><a href="#3-测试">3. 测试</a>
      <ul>
        <li><a href="#如何添加测试">如何添加测试</a></li>
        <li><a href="#table-driven-test">table driven test</a></li>
        <li><a href="#stdout重定向测试">stdout重定向测试</a></li>
      </ul>
    </li>
    <li><a href="#4-debug">4. debug</a>
      <ul>
        <li><a href="#gdb">gdb</a></li>
        <li><a href="#godebug">godebug</a></li>
        <li><a href="#delve">delve</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
  </details>
  



<script>
  var toc = document.querySelector(".toc");
  if (toc) {
    toc.addEventListener("click", function () {
      if (event.target.tagName !== "A") {
        event.preventDefault();
        if (this.open) {
          this.open = false;
          this.classList.remove("expanded");
        } else {
          this.open = true;
          this.classList.add("expanded");
        }
      }
    });
  }
</script>

        <div class="content e-content">
            <h2 id="1-设置go语言vim开发环境" >
<div>
    <a href="#1-%e8%ae%be%e7%bd%aego%e8%af%ad%e8%a8%80vim%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83">
        #
    </a>
    1. 设置GO语言vim开发环境
</div>
</h2>
<p>在vim中开发GO最好安装相关的插件，比如<a href="https://github.com/fatih/vim-go">vim-go</a>这个插件。这个插件除了提供格式化、语法高亮、语法检测等功能以外还有很多方便的功能。</p>
<p>编译命令，对应go build：</p>
<pre><code>:GoBuild
</code></pre>
<p>安装，对应go install：</p>
<pre><code>:GoInstall
</code></pre>
<p>测试，对应go test：</p>
<pre><code>:GoTest
</code></pre>
<p>运行一个单独测试：</p>
<pre><code>:GoTestFunc
</code></pre>
<p>覆盖率：</p>
<pre><code>:GoCoverage
</code></pre>
<p>运行当前程序，对应go run:</p>
<pre><code>:GoRun
</code></pre>
<p>goto符号定义：</p>
<pre><code>:GoDef
</code></pre>
<p>文档查询：</p>
<pre><code>:GoDoc
:GoDocBrowser
</code></pre>
<p>添加／删除包引用：</p>
<pre><code>:GoImport
:GoDrop
</code></pre>
<p>设置GOPATH：</p>
<pre><code>:GoPath
</code></pre>
<p>在结构体增加／删除tag：</p>
<pre><code>:GoAddTags
:GoRemoveTags
</code></pre>
<p>静态语法检查：</p>
<pre><code>:GoMetaLinter		// 调用gometalinter
:GoLint			// 调用golint
</code></pre>
<p>高级代码分析：</p>
<pre><code>:GoImplements
:GoCallees
:GoReferrers
</code></pre>
<p>重命名：</p>
<pre><code>:GoRename
</code></pre>
<h3 id="在vim中查询vim-go的帮助文档" >
<div>
    <a href="#%e5%9c%a8vim%e4%b8%ad%e6%9f%a5%e8%af%a2vim-go%e7%9a%84%e5%b8%ae%e5%8a%a9%e6%96%87%e6%a1%a3">
        ##
    </a>
    在vim中查询vim-go的帮助文档：
</div>
</h3>
<pre><code>:help vim-go
</code></pre>
<p>安装完成后打开vim，运行&quot;:GoInstallBinaries&quot;安装依赖的工具。</p>
<p>再安装其它依赖工具：</p>
<pre><code>// gocode is used by many editors to provide intellisense
go get github.com/nsf/gocode

// goimports is something you should run when saving code to fill in import paths
go get golang.org/x/tools/cmd/goimports

// gorename is used by many editors to provide identifier rename support
go get golang.org/x/tools/cmd/gorename

// oracle is a tool that help with code navigation and search
go get golang.org/x/tools/cmd/oracle

// golint should be run after every build to check your code
go get github.com/golang/lint/golint
</code></pre>
<h2 id="2-其它常用工具" >
<div>
    <a href="#2-%e5%85%b6%e5%ae%83%e5%b8%b8%e7%94%a8%e5%b7%a5%e5%85%b7">
        #
    </a>
    2. 其它常用工具
</div>
</h2>
<h3 id="文件格式化" >
<div>
    <a href="#%e6%96%87%e4%bb%b6%e6%a0%bc%e5%bc%8f%e5%8c%96">
        ##
    </a>
    文件格式化
</div>
</h3>
<pre><code>gofmt &lt;file&gt;
</code></pre>
<h3 id="打印package信息" >
<div>
    <a href="#%e6%89%93%e5%8d%b0package%e4%bf%a1%e6%81%af">
        ##
    </a>
    打印package信息
</div>
</h3>
<ul>
<li>
<p>查询当前目录模块信息：</p>
<pre><code>  go list
</code></pre>
</li>
<li>
<p>查询指定模块：</p>
<pre><code>  go list &lt;module&gt;
</code></pre>
</li>
<li>
<p>常用命令：</p>
<pre><code>  go list -f '{{ .Name }}'

  go list -f '{{ .Name }}: {{ .Doc }}'

  go list -f '{{ .Imports }}'  // 结果用中括号输出

  $ go list -f '{{.Imports}}' fmt
  [errors io math os reflect strconv sync unicode/utf8]

  go list -f '{{ join .Imports &quot;\n&quot;}}'  // 结果用换行输出

  $ go list -f '{{join .Imports &quot;\n&quot;}}' fmt
  errors
  io
  math
  os
  reflect
  strconv
  sync
  unicode/utf8
</code></pre>
</li>
</ul>
<h3 id="跨平台编译" >
<div>
    <a href="#%e8%b7%a8%e5%b9%b3%e5%8f%b0%e7%bc%96%e8%af%91">
        ##
    </a>
    跨平台编译：
</div>
</h3>
<pre><code>GOOS=windows go build
</code></pre>
<h3 id="查询文档" >
<div>
    <a href="#%e6%9f%a5%e8%af%a2%e6%96%87%e6%a1%a3">
        ##
    </a>
    查询文档
</div>
</h3>
<ul>
<li>
<p>查询当前模块：</p>
<pre><code>  go doc
</code></pre>
</li>
<li>
<p>查询指定模块：</p>
<pre><code>  go doc \&lt;module\&gt;
  go doc \&lt;module\&gt; [function]
</code></pre>
</li>
<li>
<p>在线文档：</p>
<pre><code>  godoc -http :8080
</code></pre>
</li>
</ul>
<h3 id="程序错误查询" >
<div>
    <a href="#%e7%a8%8b%e5%ba%8f%e9%94%99%e8%af%af%e6%9f%a5%e8%af%a2">
        ##
    </a>
    程序错误查询
</div>
</h3>
<p>程序执行的时候有些情况下不会打印错误信息，因为go中没有exception，当错误出现时是通过返回error来捕捉错误信息，如果程序执行的时候没有捕捉错误信息，那么就会出现这种状况。对于这种状况可以通过命令&quot;errcheck&quot;来获得错误信息。</p>
<pre><code>命令：
errcheck
</code></pre>
<h3 id="go-vet工具" >
<div>
    <a href="#go-vet%e5%b7%a5%e5%85%b7">
        ##
    </a>
    go vet工具
</div>
</h3>
<p>go vet工具用来检查程序中可能的错误。</p>
<h2 id="3-测试" >
<div>
    <a href="#3-%e6%b5%8b%e8%af%95">
        #
    </a>
    3. 测试
</div>
</h2>
<h3 id="如何添加测试" >
<div>
    <a href="#%e5%a6%82%e4%bd%95%e6%b7%bb%e5%8a%a0%e6%b5%8b%e8%af%95">
        ##
    </a>
    如何添加测试
</div>
</h3>
<p>通常在被测试的程序文件同目录下添加&rsquo;_test.go&rsquo;结尾的文件，例如当要测试&rsquo;program.go&rsquo;时在同一个目录下添加&rsquo;program_test.go&rsquo;文件。</p>
<p>接下来是在&rsquo;program_test.go&rsquo;文件中添加测试代码。测试文件需要引入&rsquo;testing&rsquo;包。接下来是编写测试函数，测试函数需要&rsquo;Test&rsquo;字符开头，注意必须是大写&rsquo;T&rsquo;开头的&rsquo;Test&rsquo;。</p>
<p>例如：</p>
<pre><code>import &quot;testing&quot;

func TestSomeFunction(t *testing.T) {
	// do some test here
}
</code></pre>
<h3 id="table-driven-test" >
<div>
    <a href="#table-driven-test">
        ##
    </a>
    table driven test
</div>
</h3>
<p>go测试推荐&rsquo;table drive test&rsquo;的方法，其实是一种编程技巧，使用这种方法可以在一定程度上简化测试代码。</p>
<p>这种测试方法其实是将测试的输入／输出作为测试数据写在一个结构体内，并在测试代码中使用，写个简单的例子，比如说要测试一个简单的&rsquo;sum&rsquo;函数。</p>
<pre><code>func sum(a int, b int) int {
	return (a+b)
}
</code></pre>
<p>测试代码：</p>
<pre><code>// you're defining the test table here
var testCases = []struct {
    a      int
    b      int
    result int
}{
    {1, 2, 3},
    {3, 5, 8},
}

// test code
func TestSum(t *testing.T) {
    for _, tc := range testCases {
        r := sum(tc.a, tc.b)
        if r != tc.result {
            t.Errorf(&quot;Failed case: param[%d, %d], result[%d], expected[%d]&quot;, tc.a, tc.b, r, tc.result)
        }
    }
}
</code></pre>
<h3 id="stdout重定向测试" >
<div>
    <a href="#stdout%e9%87%8d%e5%ae%9a%e5%90%91%e6%b5%8b%e8%af%95">
        ##
    </a>
    stdout重定向测试
</div>
</h3>
<p>关于stdout重定向测试并不是一个测试的重点，只是有时候你写的一个函数需要输出一些字符到标准输出stdout上，比如使用fmt.Println()，如果此时恰好需要测试程序检测这种情况，那么这种技巧就可以派上用场了。</p>
<p>比如有下面这样一段程序：</p>
<pre><code>func isNegative(i int) {
    if i &lt; 0 {
        fmt.Println(&quot;Negative&quot;)
    } else {
        fmt.Println(&quot;Non-negative&quot;)
    }
}
</code></pre>
<p>这个程序的测试可以这样写：</p>
<pre><code>func captureStdoutWithParam(f func(p int), p int) string {
	// save the original stdout
	oldStdout := os.Stdout
	// create pipe to redirect the stdout to 'r'
	r, w, _ := os.Pipe()
	os.Stdout = w

	f(p)

	w.Close()
	// restore the stdout
	os.Stdout = oldStdout
	out, _ := ioutil.ReadAll(r)

	return string(out)
}

func TestIsNegative(t *testing.T) {
	cases := []struct {
		input  int
		output string
	}{
		{-3, &quot;Negative&quot;},
		{0, &quot;Non-negative&quot;},
		{5, &quot;Non-negative&quot;},
	}

	for _, c := range cases {
		out := captureStdoutWithParam(isNegative, c.input)
		if !strings.Contains(out, c.output) {
			t.Errorf(&quot;Expected [%s], get[%s]&quot;, c.output, out)
		}
	}
}
</code></pre>
<h2 id="4-debug" >
<div>
    <a href="#4-debug">
        #
    </a>
    4. debug
</div>
</h2>
<p>go语言debug有几个选项：</p>
<ul>
<li>gdb</li>
<li><a href="https://github.com/mailgun/godebug">godebug</a></li>
<li><a href="https://github.com/derekparker/delve">Delve</a></li>
</ul>
<h3 id="gdb" >
<div>
    <a href="#gdb">
        ##
    </a>
    gdb
</div>
</h3>
<p>关于gdb的使用go的官方文档似乎并不推荐。</p>
<blockquote>
<p>This applies to the standard toolchain (the gc Go compiler and tools). Gccgo has native gdb support. Besides this overview you might want to consult the GDB manual.</p>
<p>GDB does not understand Go programs well. The stack management, threading, and runtime contain aspects that differ enough from the execution model GDB expects that they can confuse the debugger, even when the program is compiled with gccgo. As a consequence, although GDB can be useful in some situations, it is not a reliable debugger for Go programs, particularly heavily concurrent ones. Moreover, it is not a priority for the Go project to address these issues, which are difficult. In short, the instructions below should be taken only as a guide to how to use GDB when it works, not as a guarantee of success.</p>
</blockquote>
<h3 id="godebug" >
<div>
    <a href="#godebug">
        ##
    </a>
    godebug
</div>
</h3>
<p>在godebug的github上也表明这个工具已经过时了，并且推荐使用&rsquo;delve&rsquo;。</p>
<blockquote>
<p>DEPRECATED! There will be no further development. Please use <a href="https://github.com/derekparker/delve">https://github.com/derekparker/delve</a>. But if you want to keep the project going and ready to become its maintaner please contact us and we can make you one.</p>
</blockquote>
<h3 id="delve" >
<div>
    <a href="#delve">
        ##
    </a>
    delve
</div>
</h3>
<h4 id="安装" >
<div>
    <a href="#%e5%ae%89%e8%a3%85">
        ###
    </a>
    安装
</div>
</h4>
<p>参考github文档中的<a href="https://github.com/derekparker/delve/blob/master/Documentation/installation/osx/install.md">安装方法</a>。</p>
<ul>
<li>
<p>方法一：</p>
<pre><code>  $ brew install go-delve/delve/delve
</code></pre>
</li>
<li>
<p>方法二：</p>
<pre><code>  $ xcode-select --install
  $ go get -u github.com/derekparker/delve/cmd/dlv
</code></pre>
</li>
</ul>
<p>接下来就可以使用dlv进行debug了。</p>
<pre><code>$ dlv --help
Delve is a source level debugger for Go programs.

Delve enables you to interact with your program by controlling the execution of the process,
evaluating variables, and providing information of thread / goroutine state, CPU register state and more.

The goal of this tool is to provide a simple yet powerful interface for debugging Go programs.

Pass flags to the program you are debugging using `--`, for example:

`dlv exec ./hello -- server --config conf/config.toml`

Usage:
  dlv [command]

Available Commands:
  attach      Attach to running process and begin debugging.
  connect     Connect to a headless debug server.
  core        Examine a core dump.
  debug       Compile and begin debugging main package in current directory, or the package specified.
  exec        Execute a precompiled binary, and begin a debug session.
  help        Help about any command
  run         Deprecated command. Use 'debug' instead.
  test        Compile test binary and begin debugging program.
  trace       Compile and begin tracing program.
  version     Prints version.

Flags:
      --accept-multiclient   Allows a headless server to accept multiple client connections. Note that the server API is not reentrant and clients will have to coordinate.
      --api-version int      Selects API version when headless. (default 1)
      --backend string       Backend selection:
	default		Uses lldb on macOS, native everywhere else.
	native		Native backend.
	lldb		Uses lldb-server or debugserver.
	rr		Uses mozilla rr (https://github.com/mozilla/rr).
 (default &quot;default&quot;)
      --build-flags string   Build flags, to be passed to the compiler.
      --headless             Run debug server only, in headless mode.
      --init string          Init file, executed by the terminal client.
  -l, --listen string        Debugging server listen address. (default &quot;localhost:0&quot;)
      --log                  Enable debugging server logging.
      --wd string            Working directory for running the program. (default &quot;.&quot;)

Use &quot;dlv [command] --help&quot; for more information about a command.
</code></pre>

        </div>

    </article>

    
    

    
        
        
            <h3 class="read-next-title noselect">Read next</h3>
            <ul class="read-next-posts noselect">
                
                <li><a href="/2017/11/%E4%BD%BF%E7%94%A8vim%E8%BF%9B%E8%A1%8C16%E8%BF%9B%E5%88%B6%E7%BC%96%E8%BE%91/">使用vim进行16进制编辑</a></li>
                
                <li><a href="/2017/11/go%E8%AF%AD%E8%A8%80%E4%B8%ADnew%E4%B8%8Emake%E7%9A%84%E6%AF%94%E8%BE%83/">Go语言中new与make的比较</a></li>
                
                <li><a href="/2017/11/go%E8%AF%AD%E8%A8%80%E4%B8%ADarray%E4%B8%8Eslice%E7%9A%84%E6%AF%94%E8%BE%83/">GO语言中array与slice的比较</a></li>
                
            </ul>
        
    

    

    
        
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "singleye" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>











    

    

    

        </main>
        
            <footer class="common-footer noselect">
    
    

    <div class="common-footer-bottom">
        

        <div style="display: flex; align-items: center; gap:8px">
            © singleye, 2024
            
        </div>
        <div style="display:flex;align-items: center">
            
            
            
            
            
            
        </div>
        <div>
            Powered by <a target="_blank" rel="noopener noreferrer" href="https://gohugo.io/">Hugo</a>, theme <a target="_blank" rel="noopener noreferrer" href="https://github.com/Junyi-99/hugo-theme-anubis2">Anubis2</a>.<br>
            

        </div>
    </div>

    <p class="h-card vcard">

    <a href=https://www.singleye.net/ class="p-name u-url url fn" rel="me"></a>

    

    
</p>

</footer>

        
    </div>
</body>
</html>
