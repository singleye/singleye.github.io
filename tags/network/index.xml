<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Network on singleye</title>
    <link>/tags/network/</link>
    <description>singleye (Network)</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <managingEditor>**Email:** [singleye512@gmail.com](mailto:singleye512@gmail.com) (singleye)</managingEditor>
    <webMaster>**Email:** [singleye512@gmail.com](mailto:singleye512@gmail.com) (singleye)</webMaster>
    <lastBuildDate>Wed, 18 Jan 2017 18:56:51 +0800</lastBuildDate>
    
    <atom:link href="/tags/network/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>阿里云ECS EIP服务进行IPv6改造的方法</title>
      <link>/2017/01/%E9%98%BF%E9%87%8C%E4%BA%91ecs-eip%E6%9C%8D%E5%8A%A1%E8%BF%9B%E8%A1%8Cipv6%E6%94%B9%E9%80%A0%E7%9A%84%E6%96%B9%E6%B3%95/</link>
      <pubDate>Wed, 18 Jan 2017 18:56:51 +0800</pubDate>
      <author>**Email:** [singleye512@gmail.com](mailto:singleye512@gmail.com) (singleye)</author>
      <guid>/2017/01/%E9%98%BF%E9%87%8C%E4%BA%91ecs-eip%E6%9C%8D%E5%8A%A1%E8%BF%9B%E8%A1%8Cipv6%E6%94%B9%E9%80%A0%E7%9A%84%E6%96%B9%E6%B3%95/</guid>
      <description>&lt;p&gt;最近团队开发的APP提交到苹果APP store时被拒了，原因是不支持IPv6的访问。原来苹果App store从2016年6月开始强制新上线APP支持IPv6网络，但由于IPv6基础设施在国内的推广非常缓慢，因此导致了该问题。&lt;/p&gt;
&lt;h1 id=&#34;ipv6介绍&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#ipv6%e4%bb%8b%e7%bb%8d&#34;&gt;
        ##
    &lt;/a&gt;
    IPv6介绍
&lt;/div&gt;
&lt;/h1&gt;
&lt;p&gt;为了理解IPv6需要先了解其产生的原因，就是IPv4地址资源的问题。IPv4的网络使用32位的地址空间（XX.XX.XX.XX），因此最大支持的数量是4,294,967,296（2^32个），其中还有1800多万个&lt;a href=&#34;https://zh.wikipedia.org/wiki/%E4%B8%93%E7%94%A8%E7%BD%91%E7%BB%9C&#34;&gt;私有地址&lt;/a&gt;和2.7亿个&lt;a href=&#34;https://zh.wikipedia.org/wiki/%E5%A4%9A%E6%92%AD&#34;&gt;多播地址&lt;/a&gt;。互联网的发展显然超出了普通的32位地址空间的容量，IPv6地址使用128位的地址空间，这意味着几乎取之不尽的地址空间。另外IPv6比IPv4还进行了很多的改进与扩充。&lt;/p&gt;
&lt;h2 id=&#34;ipv6地址&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#ipv6%e5%9c%b0%e5%9d%80&#34;&gt;
        #
    &lt;/a&gt;
    IPv6地址
&lt;/div&gt;
&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;冒分16进制表示法（XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX），每个部分中的0可以省略。比如：2001:0DB8:0000:0023:0008:0800:200C:417A 可以缩写为2001:DB8:0:23:8:800:200C:417A&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;0位压缩。如果地址中包含很多连续的0，可以把0压缩为&amp;quot;::&amp;quot;，并且&amp;quot;::&amp;ldquo;只能出现1次。
比如 FF01:0:0:0:0:0:0:1101 可以缩略为 FF01::1101&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;内嵌IPv4地址表示法。为了实现IPv4-IPv6互通，IPv4地址会嵌入IPv6地址中，此时地址常表示为：X:X:X:X:X:X:d.d.d.d，前96b采用冒分十六进制表示，而最后32b地址则使用IPv4的点分十进制表示，例如::192.168.0.1与::FFFF:192.168.0.1就是两个典型的例子，注意在前96b中，压缩0位的方法依旧适用。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ipv6地址分类&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#ipv6%e5%9c%b0%e5%9d%80%e5%88%86%e7%b1%bb&#34;&gt;
        #
    &lt;/a&gt;
    IPv6地址分类
&lt;/div&gt;
&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;地址类型&lt;/th&gt;
&lt;th&gt;IPv4&lt;/th&gt;
&lt;th&gt;IPv6&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;单播(unicast)&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;组播(multicast)&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;任播(anycast)&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;广播&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;No (通过组播来达到类似目的)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;IPv6的地址类型通过地址的前缀进行区别&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;IPv6地址类型&lt;/th&gt;
&lt;th&gt;前缀标识&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Loopback (unicast)&lt;/td&gt;
&lt;td&gt;::1/128&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Link local (unicast)&lt;/td&gt;
&lt;td&gt;FE80::/10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Site local (unicast)&lt;/td&gt;
&lt;td&gt;FEC0::/10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Global (unicast)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;multicast&lt;/td&gt;
&lt;td&gt;FF00::/8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;anycast&lt;/td&gt;
&lt;td&gt;从单播地址空间中分配&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;ipv4-vs-ipv6&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#ipv4-vs-ipv6&#34;&gt;
        #
    &lt;/a&gt;
    IPv4 vs IPv6
&lt;/div&gt;
&lt;/h2&gt;
&lt;p&gt;IPv6比IPv4的优势：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;IPv6具有更大的地址空间。IPv4中规定IP地址长度为32，最大地址个数为2^32；而IPv6中IP地址的长度为128，即最大地址个数为2^128。与32位地址空间相比，其地址空间增加了2^128-2^32个。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IPv6使用更小的路由表。IPv6的地址分配一开始就遵循聚类（Aggregation）的原则，这使得路由器能在路由表中用一条记录（Entry）表示一片子网，大大减小了路由器中路由表的长度，提高了路由器转发数据包的速度。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IPv6增加了增强的组播（Multicast）支持以及对流的控制（Flow Control），这使得网络上的多媒体应用有了长足发展的机会，为服务质量（QoS，Quality of Service）控制提供了良好的网络平台。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IPv6加入了对自动配置（Auto Configuration）的支持。这是对DHCP协议的改进和扩展，使得网络（尤其是局域网）的管理更加方便和快捷。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IPv6具有更高的安全性。在使用IPv6网络中用户可以对网络层的数据进行加密并对IP报文进行校验，在IPV6中的加密与鉴别选项提供了分组的保密性与完整性。极大的增强了网络的安全性。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;允许扩充。如果新的技术或应用需要时，IPV6允许协议进行扩充。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;更好的头部格式。IPV6使用新的头部格式，其选项与基本头部分开，如果需要，可将选项插入到基本头部与上层数据之间。这就简化和加速了路由选择过程，因为大多数的选项不需要由路由选择。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;新的选项。IPV6有一些新的选项来实现附加的功能[14]  。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;阿里ecs-eip-服务ipv6支持方法&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#%e9%98%bf%e9%87%8cecs-eip-%e6%9c%8d%e5%8a%a1ipv6%e6%94%af%e6%8c%81%e6%96%b9%e6%b3%95&#34;&gt;
        ##
    &lt;/a&gt;
    阿里ECS EIP 服务IPv6支持方法
&lt;/div&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;6in4隧道方式&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#6in4%e9%9a%a7%e9%81%93%e6%96%b9%e5%bc%8f&#34;&gt;
        #
    &lt;/a&gt;
    6in4隧道方式
&lt;/div&gt;
&lt;/h2&gt;
&lt;p&gt;6in4的方法是将IPv6的数据包包裹在IPv4的数据包中在IPv4的网络上传输，并通过IPv4/IPv6的网络交界处部署的tunnel broker进行疯转转发，基本工作原理如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IPv6网络上的客户端对服务进行访问时发送IPv6数据包，数据包到达tunnel
broker的服务器端，broker将数据包进行IPv4的封装通过隧道发送到你的IPv4服务器端，在隧道的另一端进行IPv6数据包的应用层处理。&lt;/li&gt;
&lt;li&gt;你的服务器收到数据包进行应用层处理后将相应数据包进行IPv6封装，再通过隧道包裹成IPv4的数据报文进行隧道传输，当数据包抵达IPv4/IPv6的网络交界处的tunnel broker时，tunnel broker将IPv6的包解析出来在IPv6的网络上进行传递到达IPv6的客户端。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下面我们以6in4的方式对阿里云ECS服务器上使用EIP的服务进行IPv6改造。&lt;/p&gt;
&lt;h3 id=&#34;1-创建tunnel&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#1-%e5%88%9b%e5%bb%batunnel&#34;&gt;
        ##
    &lt;/a&gt;
    1. 创建tunnel
&lt;/div&gt;
&lt;/h3&gt;
&lt;p&gt;到&lt;a href=&#34;https://www.tunnelbroker.net&#34;&gt;tunnelbroker&lt;/a&gt;注册账号，并且创建一个新的常规(Regular) tunnel。创建时候需要在&amp;rsquo;IPv4 Endpoint&amp;rsquo;栏填入服务器的公网IPv4地址，并在&amp;rsquo;Available Tunnel Servers&amp;rsquo;中选择一个适合自己的服务器区域，过程如下图：
&lt;img src=&#34;http://singleye-public-read.oss-cn-shanghai.aliyuncs.com/singleye.net/static/2017/01/create_tunnel.jpg&#34; alt=&#34;创建tunnel&#34;&gt;&lt;/p&gt;
&lt;p&gt;创建完成后的tunnel包含了几个重要的信息：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Server IPv4 Address: 这个是tunnel服务端的IPv4地址，创建tunnel的时候需要用到。&lt;/li&gt;
&lt;li&gt;Server IPv6 Address: 这个是tunnel的服务端IPv6地址。&lt;/li&gt;
&lt;li&gt;Client IPv4 Address: 这个是tunnel客户端的IPv4地址。&lt;/li&gt;
&lt;li&gt;Client IPv6 Address: 这个地址需要设置在CentOS服务器的tunnel上面，也是后面DNS服务器需要设置的AAAA记录对应的地址。
&lt;img src=&#34;http://singleye-public-read.oss-cn-shanghai.aliyuncs.com/singleye.net/static/2017/01/tunnel_detail.jpg&#34; alt=&#34;tunnel详情&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-解除阿里云主机ipv6限制&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#2-%e8%a7%a3%e9%99%a4%e9%98%bf%e9%87%8c%e4%ba%91%e4%b8%bb%e6%9c%baipv6%e9%99%90%e5%88%b6&#34;&gt;
        ##
    &lt;/a&gt;
    2. 解除阿里云主机IPv6限制
&lt;/div&gt;
&lt;/h3&gt;
&lt;p&gt;阿里云的CentOS主机默认状态下是把IPv6给禁掉的，可以使用下面的脚本先把系统的IPv6功能打开。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1&lt;/span&gt;&lt;span&gt;&lt;span style=&#34;color:#099&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2&lt;/span&gt;&lt;span&gt;&lt;span style=&#34;color:#099&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3&lt;/span&gt;&lt;span&gt;mkdir ipv6
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4&lt;/span&gt;&lt;span&gt;mv /etc/modprobe.d/disable_ipv6.conf ipv6/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5&lt;/span&gt;&lt;span&gt;modprobe ipv6
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6&lt;/span&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7&lt;/span&gt;&lt;span&gt;cp /etc/sysctl.conf ipv6/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8&lt;/span&gt;&lt;span&gt;cat /etc/sysctl.conf | sed -e &lt;span style=&#34;color:#c30&#34;&gt;&amp;#39;s/disable_ipv6 = 1/disable_ipv6 = 0/&amp;#39;&lt;/span&gt; &amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9&lt;/span&gt;&lt;span&gt;/etc/.sysctl.conf.bak
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10&lt;/span&gt;&lt;span&gt;mv -f /etc/.sysctl.conf.bak /etc/sysctl.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11&lt;/span&gt;&lt;span&gt;sysctl -p /etc/sysctl.conf&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;完成上面配置后可以用&amp;rsquo;ifconfig&amp;rsquo;检验一下网络接口，如果出现&amp;rsquo;inet6&amp;rsquo;类型的信息说明配置已经生效。&lt;/p&gt;
&lt;h3 id=&#34;3-配置centos服务器端tunnel&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#3-%e9%85%8d%e7%bd%aecentos%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%ab%aftunnel&#34;&gt;
        ##
    &lt;/a&gt;
    3. 配置CentOS服务器端tunnel
&lt;/div&gt;
&lt;/h3&gt;
&lt;p&gt;这里顺带介绍一下Linux支持的几种隧道：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IP隧道：通过将IPv4数据包封装进另一个IPv4数据包中进行发送，实现两个互不连通的IP网络之间的连接。但是不能通过隧道进行广播或者IPv6数据包的发送。&lt;/li&gt;
&lt;li&gt;SIT隧道：将IPv6数据包封装进IPv4数据包中，对应6in4的场景。&lt;/li&gt;
&lt;li&gt;GRE隧道：最初是由cisco开发的隧道协议，能够进行多播及IPv6数据包的发送。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这次主要介绍&amp;quot;SIT&amp;quot;隧道的方案。现在需要用到上面创建tunnel时的&amp;rsquo;Server IPv4 Address&amp;rsquo;/&amp;lsquo;Client IPv4 Address&amp;rsquo;/&amp;lsquo;Client IPv6 Address&amp;rsquo;，在你的ECS主机上面运行下面的命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1&lt;/span&gt;&lt;span&gt;ip tunnel add he-ipv6 mode sit remote &lt;span style=&#34;color:#555&#34;&gt;[&lt;/span&gt;Server IPv4 Address&lt;span style=&#34;color:#555&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#366&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#555&#34;&gt;[&lt;/span&gt;Client IPv4 Address&lt;span style=&#34;color:#555&#34;&gt;]&lt;/span&gt; ttl &lt;span style=&#34;color:#f60&#34;&gt;255&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2&lt;/span&gt;&lt;span&gt;ip link &lt;span style=&#34;color:#366&#34;&gt;set&lt;/span&gt; he-ipv6 up
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3&lt;/span&gt;&lt;span&gt;ip addr add &lt;span style=&#34;color:#555&#34;&gt;[&lt;/span&gt;Client IPv6 Address&lt;span style=&#34;color:#555&#34;&gt;]&lt;/span&gt;/64 dev he-ipv6
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4&lt;/span&gt;&lt;span&gt;ip route add ::/0 dev he-ipv6
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5&lt;/span&gt;&lt;span&gt;ip -f inet6 addr&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;完成这一步后已经可以对&amp;rsquo;[Client IPv6 Address]&amp;lsquo;进行访问了，可以通过&amp;rsquo;ping6&amp;rsquo;或者&amp;rsquo;curl&amp;rsquo;进行验证。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1&lt;/span&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# ping6 [Client IPv6 Address]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2&lt;/span&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# curl --globoff -6 [Client IPv6 Address]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;4-设置dns-aaaa记录&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#4-%e8%ae%be%e7%bd%aedns-aaaa%e8%ae%b0%e5%bd%95&#34;&gt;
        ##
    &lt;/a&gt;
    4. 设置DNS AAAA记录
&lt;/div&gt;
&lt;/h3&gt;
&lt;p&gt;大家熟悉的A记录是DNS中IPv4的对应地址，相应的IPv6地址叫AAAA记录。设置成功后就可以直接用DNS进行访问了。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1&lt;/span&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# ping6 [Client IPv6 DNS name]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2&lt;/span&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# curl --globoff -6 [Client IPv6 DNS name]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id=&#34;附录&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#%e9%99%84%e5%bd%95&#34;&gt;
        ##
    &lt;/a&gt;
    附录
&lt;/div&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;ipv4私有地址&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#ipv4%e7%a7%81%e6%9c%89%e5%9c%b0%e5%9d%80&#34;&gt;
        #
    &lt;/a&gt;
    IPv4私有地址
&lt;/div&gt;
&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;RFC1918 规定区块名&lt;/th&gt;
&lt;th&gt;IP地址区段&lt;/th&gt;
&lt;th&gt;IP数量&lt;/th&gt;
&lt;th&gt;分类网络说明&lt;/th&gt;
&lt;th&gt;最大CIDR区块（子网络遮罩）&lt;/th&gt;
&lt;th&gt;主机端位长&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;24位区块&lt;/td&gt;
&lt;td&gt;10.0.0.0 – 10.255.255.255&lt;/td&gt;
&lt;td&gt;16,777,216&lt;/td&gt;
&lt;td&gt;单个A类网络&lt;/td&gt;
&lt;td&gt;10.0.0.0/8(255.0.0.0)&lt;/td&gt;
&lt;td&gt;24位&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Shared Address Space&lt;/td&gt;
&lt;td&gt;100.64.0.0 - 100.127.255.255&lt;/td&gt;
&lt;td&gt;4,194,304&lt;/td&gt;
&lt;td&gt;64个连续B类网络&lt;/td&gt;
&lt;td&gt;100.64.0.0/10 (255.192.0.0)&lt;/td&gt;
&lt;td&gt;22位&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;20位区块&lt;/td&gt;
&lt;td&gt;172.16.0.0 – 172.31.255.255&lt;/td&gt;
&lt;td&gt;1,048,576&lt;/td&gt;
&lt;td&gt;16个连续B类网络&lt;/td&gt;
&lt;td&gt;172.16.0.0/12(255.240.0.0)&lt;/td&gt;
&lt;td&gt;20位&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;16位区块&lt;/td&gt;
&lt;td&gt;192.168.0.0 – 192.168.255.255&lt;/td&gt;
&lt;td&gt;65,536&lt;/td&gt;
&lt;td&gt;256个连续C类网络&lt;/td&gt;
&lt;td&gt;192.168.0.0/16(255.255.0.0)&lt;/td&gt;
&lt;td&gt;16位&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;参考资料&#34; &gt;
&lt;div&gt;
    &lt;a href=&#34;#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99&#34;&gt;
        ##
    &lt;/a&gt;
    参考资料
&lt;/div&gt;
&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://zh.wikipedia.org/wiki/IPv6&#34;&gt;https://zh.wikipedia.org/wiki/IPv6&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://baike.baidu.com/item/IPv6&#34;&gt;http://baike.baidu.com/item/IPv6&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://test-ipv6.com/faq_6to4.html&#34;&gt;http://test-ipv6.com/faq_6to4.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>
